!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=29)}([function(t,e){t.exports=function(t,e,n,i){var r,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,o=t.default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),n&&(a._scopeId=n),i){var u=a.computed||(a.computed={});Object.keys(i).forEach(function(t){var e=i[t];u[t]=function(){return e}})}return{esModule:r,exports:o,options:a}}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(7),a=n.n(s),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t){function e(){i(this,e);var t=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.setMaxListeners(500),t}return o(e,t),c(e,[{key:"sub",value:function(t,e){var n=this,i="undefined"==typeof t?"undefined":u(t);return"object"!==i&&"array"!==i?this.on(t,e):void t.forEach(function(t){return n.on.apply(n,t)})}},{key:"unsub",value:function(t,e){var n=this,i="undefined"==typeof t?"undefined":u(t);return"object"!==i&&"array"!==i?this.removeListener(t,e):void t.forEach(function(t){return n.removeListener.apply(n,t)})}},{key:"pub",value:function(){this.emit.apply(this,arguments)}}]),e}(a.a);e.a=new l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(23),r=n(24),o=n(25),s=n(10),a=n.n(s);n.d(e,"iAudio",function(){return i.a}),n.d(e,"iAvatar",function(){return r.a}),n.d(e,"iRollBar",function(){return o.a}),n.d(e,"iBarrage",function(){return a.a})},function(t,e,n){"use strict";var i=n(26);e.a={iTrack:i.a}},function(t,e,n){"use strict";var i=n(1);e.a=function(){var t=function(t){return i.a.pub("body:click",t)};"undefined"!=typeof window.orientation?document.body.addEventListener("touchstart",t,!1):document.body.addEventListener("click",t,!1)}},function(t,e,n){"use strict";e.a=function(t){return"complete"===document.readyState?setTimeout(t,0):void document.addEventListener("DOMContentLoaded",t)}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(){function t(){i(this,t)}return r(t,[{key:"toast",value:function t(e){var t=document.createElement("div");return t.classList.add("toast"),t.classList.add("toast-"+e),document.body.appendChild(t),t}},{key:"fire",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,i=arguments[3],r=document.querySelector(".toast-"+e);r||(r=this.toast(e));var o=document.createElement("div");o.classList.add("toast-content"),o.innerHTML=t,r.appendChild(o),setTimeout(function(){return o.classList.add("toast-content-active")},10),setTimeout(function(){o.classList.add("toast-content-hide"),setTimeout(function(){o.remove(),i&&i()},300)},n)}}]),t}();e.a=new o},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,r,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var r;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,r,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){n(17);var i=n(0)(n(19),n(13),null,null);t.exports=i.exports},function(t,e,n){n(16);var i=n(0)(n(20),n(12),null,null);t.exports=i.exports},function(t,e,n){var i=n(0)(n(21),n(14),null,null);t.exports=i.exports},function(t,e,n){n(15);var i=n(0)(n(22),null,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"i-avatar",style:{"background-image":"url("+t.avatar+")"}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"i-audio",class:{on:t.isOn,off:!t.isOn},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.toggle(e)}}},[n("audio",{ref:"audio",attrs:{autoplay:t.autoplay,loop:t.loop,preload:t.preload,src:t.src}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{staticClass:"i-barrage"})},staticRenderFns:[]}},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="//stats1.jiuyan.info/onepiece/router.html"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"iAudio",data:function(){return{isOn:!1}},props:{loop:Boolean,preload:Boolean,autoplay:Boolean,src:{type:String,required:!0}},mounted:function(){var t=this.$refs.audio;t.autoplay&&this.audioAutoPlay()},methods:{play:function(){this.isOn=!0,this.$refs.audio.play(),document.removeEventListener("touchstart",this.play,!1)},pause:function(){this.isOn=!1,this.$refs.audio.pause()},toggle:function(){this.isOn?this.pause():this.play()},audioAutoPlay:function(){var t=this;this.play(),document.addEventListener("WeixinJSBridgeReady",function(){t.play()},!1),document.addEventListener("YixinJSBridgeReady",function(){t.play()},!1),document.addEventListener("touchstart",this.play,!1)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"iAvatar",props:{src:{type:String,required:!0}},computed:{avatar:function(){var t=document.createElement("a");return t.href=this.src,t.protocol=location.protocol,t.href}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{list:{type:Array,default:[]},direction:{type:String,default:"left"}},mounted:function(){var t=this.$el.getBoundingClientRect();this.$el.width=t.width,this.$el.height=t.height,this.ctx=this.$el.getContext("2d"),this.storyBorad()},methods:{_clearCtx:function(){this.ctx.clearRect(0,0,this.$el.width,this.$el.height)},_drawfont:function(t){t.time<=0||(this.ctx.save(),this.ctx.textBaseline="middle",this.ctx.textAlign=this.direction,this.ctx.fillStyle=t.color,this.ctx.font=t.fontSize+" ETrump-QiHei55",this.ctx.translate(t.x,0),this.ctx.fillText(t.txt,0,t.offsetY),this.ctx.restore())},_changePos:function(t){if(null==t.x)t.x=this.$el.width+t.offsetX;else{this.ctx.save(),this.ctx.font=t.fontSize+" ETrump-QiHei55";var e=this.ctx.measureText(t.txt).width;this.ctx.restore(),t.x<0&&Math.abs(t.x)>=e&&(t.x=this.$el.width,t.time-=1)}t.x=t.x-t.speed},_requestAnimationFrame:function(t){/android|adr/gi.test(navigator.userAgent)?setTimeout(t,1e3/60):(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){setTimeout(t,1e3/60)})(t)},storyBorad:function(){this._clearCtx(),this.list.length&&(this.list.map(this._changePos),this.list.map(this._drawfont)),this._requestAnimationFrame(this.storyBorad)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"i-roll-bar",props:{tag:{type:String,default:"div"},rollIng:{type:Function,default:function(){}},showBar:{type:String}},mounted:function(){this.lock=void 0,window.lib=window.lib||{},window.lib.flexible=window.lib.flexible||{dpr:1},window.lib.flexible.dpr=window.lib.flexible.dpr||1,window.addEventListener("scroll",this.scrollHandler,!1)},destroyed:function(){window.removeEventListener("scroll",this.scrollHandler)},methods:{scrollHandler:function(t){var e=this;if(void 0!==this.$el&&void 0===this.lock){var n=this.$el.clientHeight,i=this.$el.getBoundingClientRect(),r=window.screen.height*window.lib.flexible.dpr,o=i.top+n;o<r+50&&(this.lock=1,this.rollIng(function(){e.lock=void 0}))}}},render:function(t){var e={class:"i-roll-bar "+(void 0===this.showBar?"hiddenBar":"")};return t(this.tag,e,this.$slots.default)}}},function(t,e,n){"use strict";var i=n(8),r=n.n(i);e.a=r.a},function(t,e,n){"use strict";var i=n(9),r=n.n(i);e.a=r.a},function(t,e,n){"use strict";var i=n(11),r=n.n(i);e.a=r.a},function(t,e,n){"use strict";var i=n(28),r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(t){var e=[],o=this.value.trim();if(console.log(o),!o.length)return!0;var s=o.split("?"),a=r(s,2),u=a[0],c=a[1];c&&c.length&&(e=c.split("&")),n.i(i.a)(u,e)},s=function(t,e,n){t.addEventListener("click",o.bind(e))},a=function(t,e,n){t.removeEventListener("onclick",o.bind(e))};e.a={bind:s,unbind:a}},function(t,e,n){"use strict";function i(t,e,n,i){if(0===t.trim().length)return{};var r=t.split(e),o={};return r.forEach(function(t){var e=t.trim(),r=e.indexOf("=");r===-1?o[n(e)]="":o[n(e.substr(0,r))]=i(e.substr(r+1))}),o}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0;i<=e.length;i++){var r=e[i],o=this.query[r]||this.cookie[r];if(o&&o.trim().length>0)return o}}var o={get weixin(){return void 0===this._isWeixin&&(this._isWeixin=/MicroMessenger/gi.test(this.ua)),this._isWeixin},get weibo(){return void 0===this._isWeibo&&(this._isWeibo=/Weibo/gi.test(this.ua)),this._isWeibo},get query(){return i(location.search.substr(1),"&",function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},decodeURIComponent)},get ua(){return window.navigator.userAgent.toLowerCase()},get version(){return r.bind(this)("_v","_version")},get source(){return r.bind(this)("_s","_source")},get token(){return r.bind(this)("_token","tg_auth")},get cookie(){return i(document.cookie,";",function(t){return t},unescape)},set cookie(t){var e=t.name,n=t.value,r=t.expiredays,o=new Date,s="production"===production?"in66.com":"";o.setDate(o.getDate()+r);var a=null==r?"":";expires="+o.toGMTString();return document.cookie=e+"="+escape(n)+";domain="+s+";path=/;"+a,i.bind(this)(document.cookie,";",function(t){return t},decodeURIComponent)},get InApp(){return!this.weixin&&!this.weibo&&null!=this.token&&this.token.length>0&&/^(ios|android)$/i.test(this.source)&&/^[\d\\.]+$/.test(this.version)},initIn:function(){if(this.InApp){var t=30,e=this.query._token,n=this.query._s||this.cookie._source,i=this.query._v||this.cookie._version;e&&(this.cookie={name:"tg_auth",value:e,expiredays:t})&&(this.cookie={name:"_token",value:e,expiredays:t}),n&&(this.cookie={name:"_s",value:n,expiredays:t}),i&&(this.cookie={name:"_v",value:i,expiredays:t})}}};e.a=o},function(t,e,n){"use strict";function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Image;e.push("action="+t),n.src=""+location.protocol+o.a+"?"+e.concat(["_host="+location.host,"_token="+r.a.token,"_s="+r.a.source,"_v="+r.a.version,"_="+ +new Date]).join("&")}var r=n(27),o=n(18);e.a=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(4),o=n(5),s=n(6),a=n(2),u=n(3),c=function(t){Object.keys(u.a).forEach(function(e){t.directive(e,u.a[e])}),Object.keys(a).forEach(function(e){t.component(e,a[e])}),t.prototype.$iui={bus:i.a,load:o.a,init:r.a,toast:s.a}};e.default=c}])});